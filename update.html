<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        .hidden {
            display: none;
        }
        .block {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar -->
        <div class="w-full md:w-1/4 bg-gray-200 p-6">
            <h2 class="text-2xl font-bold mb-6">AICommun</h2>
            <a class="flex items-center text-gray-700 hover:text-black cursor-pointer menu-button bg-gray-300 p-2 rounded" href="home.html">
                <i class="fas fa-arrow-left mr-2"></i>
                Back
            </a>
        </div>
        <!-- Main Content -->
        <div class="w-full md:w-3/4 bg-white p-6">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Social</h2>
                <div class="flex items-center cursor-pointer" id="profile-link">
                    <img id="user-avatar" src="https://storage.googleapis.com/a1aa/image/N_nDd8T5B3r6kz_cpoGJfPQjQzb5s9342fiQ7CYoIiY.jpg" alt="User avatar" class="rounded-full mr-2 w-10 h-10" width="40" height="40">
                    <span id="user-name">Personalt</span>
                </div>
            </div>
            <div class="flex space-x-4 mb-6">
                <button id="update-profile-btn" class="text-white bg-[#40E0D0] hover:bg-[#7A2635] px-4 py-2 rounded">Update Profile</button>
                <button id="secure-account-access-btn" class="text-white bg-[#40E0D0] hover:bg-[#7A2635] px-4 py-2 rounded">Secure Account Access</button>
                <button id="manage-alerts-btn" class="text-white bg-[#40E0D0] hover:bg-[#7A2635] px-4 py-2 rounded">Manage Alerts</button>
            </div>
            <div id="update-profile-section" class="border-t border-gray-300 pt-6 transition-all duration-500 ease-in-out">
                <div class="flex items-center mb-6">
                    <img id="profile-picture-preview" src="https://storage.googleapis.com/a1aa/image/N_nDd8T5B3r6kz_cpoGJfPQjQzb5s9342fiQ7CYoIiY.jpg" alt="User avatar" class="rounded-full mr-4 w-20 h-20" width="80" height="80">
                    <input type="file" id="profile-picture-input" class="hidden" accept="image/*">
                    <button id="edit-profile-picture" class="bg-[#40E0D0] text-white px-2 py-1 rounded"><i class="fas fa-pen"></i></button>
                    <button id="remove-profile-picture" class="bg-[#8B2E3C] text-white px-2 py-1 rounded ml-2 hidden"><i class="fas fa-trash"></i></button>
                </div>
                <form id="profile-form">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label for="first-name" class="block text-gray-700">Modify First Name</label>
                            <input type="text" id="first-name" class="w-full border border-gray-300 p-2 rounded" value="John" autocomplete="given-name">
                        </div>
                        <div>
                            <label for="last-name" class="block text-gray-700">Change Last Name</label>
                            <input type="text" id="last-name" class="w-full border border-gray-300 p-2 rounded" value="Doe" autocomplete="family-name">
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="email" class="block text-gray-700">Edit Email Address</label>
                        <input type="email" id="email" class="w-full border border-gray-300 p-2 rounded" value="john.doe@email.com" autocomplete="email">
                    </div>
                    <div class="mb-4">
                        <label for="phone" class="block text-gray-700">Update Phone</label>
                        <input type="text" id="phone" class="w-full border border-gray-300 p-2 rounded" value="+123 456 789 000" autocomplete="tel">
                    </div>
                    <div class="mb-4">
                        <label for="street" class="block text-gray-700">Enter Street</label>
                        <input type="text" id="street" class="w-full border border-gray-300 p-2 rounded" value="Broadway 123" autocomplete="street-address">
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label for="zip" class="block text-gray-700">Set ZIP Code</label>
                            <input type="text" id="zip" class="w-full border border-gray-300 p-2 rounded" value="5678" autocomplete="postal-code">
                        </div>
                        <div>
                            <label for="city" class="block text-gray-700">City Name</label>
                            <input type="text" id="city" class="w-full border border-gray-300 p-2 rounded" value="Los Angeles" autocomplete="address-level2">
                        </div>
                    </div>
                    <button type="submit" class="bg-[#40E0D0] text-white px-4 py-2 rounded">Save</button>
                </form>
            </div>
            <div id="secure-account-access-section" class="hidden border-t border-gray-300 pt-6 transition-all duration-500 ease-in-out">
                <h3 class="text-xl font-bold mb-4">Secure Account Access</h3>
                <form id="secure-account-form">
                  
                    <div class="mb-4">
                        <label for="new-password" class="block text-gray-700">New Password</label>
                        <input type="password" id="new-password" class="w-full border border-gray-300 p-2 rounded" autocomplete="new-password">
                    </div>
                    <div class="mb-4">
                        <label for="confirm-password" class="block text-gray-700">Confirm New Password</label>
                        <input type="password" id="confirm-password" class="w-full border border-gray-300 p-2 rounded" autocomplete="new-password">
                    </div>
                    <div class="mb-4">
                        <label for="two-factor-auth" class="block text-gray-700">Two-Factor Authentication</label>
                        <div class="flex items-center">
                            <input type="checkbox" id="two-factor-auth" class="mr-2">
                            <span class="text-gray-700">Enable Two-Factor Authentication</span>
                        </div>
                    </div>
                    
                    <div class="mb-4">
                        <label for="recovery-email" class="block text-gray-700">Account Recovery Options</label>
                        <div class="mb-2">
                            <label for="recovery-email" class="block text-gray-700">Recovery Email</label>
                            <input type="email" id="recovery-email" class="w-full border border-gray-300 p-2 rounded" value="recovery.email@example.com" autocomplete="email">
                        </div>
                        <div>
                            <label for="recovery-phone" class="block text-gray-700">Recovery Phone</label>
                            <input type="text" id="recovery-phone" class="w-full border border-gray-300 p-2 rounded" value="+123 456 789 000" autocomplete="tel">
                        </div>
                    </div>
                    <button type="submit" class="bg-[#40E0D0]
                    text-white px-4 py-2 rounded">Save</button>
                </form>
            </div>
            <div id="manage-alerts-section" class="hidden border-t border-gray-300 pt-6 transition-all duration-500 ease-in-out">
                <h3 class="text-xl font-bold mb-4">Manage Alerts</h3>
                <form id="manage-alerts-form">
                    <div class="mb-4">
                        <label for="email-notifications" class="block text-gray-700">Email Notifications</label>
                        <div class="flex items-center">
                            <input type="checkbox" id="email-notifications" class="mr-2">
                            <span class="text-gray-700">Enable Email Notifications</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="sms-alerts" class="block text-gray-700">SMS Alerts</label>
                        <div class="flex items-center">
                            <input type="checkbox" id="sms-alerts" class="mr-2">
                            <span class="text-gray-700">Receive SMS Alerts</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="app-notifications" class="block text-gray-700">App Notifications</label>
                        <div class="flex items-center">
                            <input type="checkbox" id="app-notifications" class="mr-2">
                            <span class="text-gray-700">Enable App Notifications</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="security-alerts" class="block text-gray-700">Security Alerts</label>
                        <div class="flex items-center">
                            <input type="checkbox" id="security-alerts" class="mr-2">
                            <span class="text-gray-700">Notify of Login Attempts</span>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="updates-announcements" class="block text-gray-700">Updates & Announcements</label>
                        <div class="flex items-center">
                            <input type="checkbox" id="updates-announcements" class="mr-2">
                            <span class="text-gray-700">Receive Updates & Announcements</span>
                        </div>
                    </div>
                    <button type="submit" class="bg-[#40E0D0] text-white px-4 py-2 rounded">Save</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        document.getElementById('edit-profile-picture').addEventListener('click', function() {
            document.getElementById('profile-picture-input').click();
        });

        document.getElementById('profile-picture-input').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profile-picture-preview').src = e.target.result;
                    document.getElementById('remove-profile-picture').classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            }
        });

        document.getElementById('remove-profile-picture').addEventListener('click', function() {
            document.getElementById('profile-picture-preview').src = 'https://storage.googleapis.com/a1aa/image/N_nDd8T5B3r6kz_cpoGJfPQjQzb5s9342fiQ7CYoIiY.jpg';
            document.getElementById('profile-picture-input').value = '';
            document.getElementById('remove-profile-picture').classList.add('hidden');
        });

        document.getElementById('profile-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const firstName = document.getElementById('first-name').value;
            const lastName = document.getElementById('last-name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const street = document.getElementById('street').value;
            const zip = document.getElementById('zip').value;
            const city = document.getElementById('city').value;
            const profilePicture = document.getElementById('profile-picture-preview').src;

            const profileData = {
                firstName,
                lastName,
                email,
                phone,
                street,
                zip,
                city,
                profilePicture,
                connections: 150 // Example connections count
            };

            localStorage.setItem('profileData', JSON.stringify(profileData));
            alert('Profile updated successfully!');

            // Update the user avatar and name in the header
            document.getElementById('user-avatar').src = profilePicture;
            document.getElementById('user-name').textContent = `${firstName} ${lastName}`;
        });

        document.getElementById('update-profile-btn').addEventListener('click', function() {
            document.getElementById('update-profile-section').classList.remove('hidden');
            document.getElementById('secure-account-access-section').classList.add('hidden');
            document.getElementById('manage-alerts-section').classList.add('hidden');
        });

        document.getElementById('secure-account-access-btn').addEventListener('click', function() {
            document.getElementById('secure-account-access-section').classList.remove('hidden');
            document.getElementById('update-profile-section').classList.add('hidden');
            document.getElementById('manage-alerts-section').classList.add('hidden');
        });

        document.getElementById('manage-alerts-btn').addEventListener('click', function() {
            document.getElementById('manage-alerts-section').classList.remove('hidden');
            document.getElementById('update-profile-section').classList.add('hidden');
            document.getElementById('secure-account-access-section').classList.add('hidden');
        });

        document.getElementById('manage-alerts-form').addEventListener('submit', function(event) {
            event.preventDefault();
            const emailNotifications = document.getElementById('email-notifications').checked;
            const smsAlerts = document.getElementById('sms-alerts').checked;
            const appNotifications = document.getElementById('app-notifications').checked;
            const securityAlerts = document.getElementById('security-alerts').checked;
            const updatesAnnouncements = document.getElementById('updates-announcements').checked;

            const alertsData = {
                emailNotifications,
                smsAlerts,
                appNotifications,
                securityAlerts,
                updatesAnnouncements
            };

            localStorage.setItem('alertsData', JSON.stringify(alertsData));
            alert('Alerts settings updated successfully!');
        });

        window.addEventListener('load', function() {
            const profileData = JSON.parse(localStorage.getItem('profileData'));
            if (profileData) {
                document.getElementById('first-name').value = profileData.firstName;
                document.getElementById('last-name').value = profileData.lastName;
                document.getElementById('email').value = profileData.email;
                document.getElementById('phone').value = profileData.phone;
                document.getElementById('street').value = profileData.street;
                document.getElementById('zip').value = profileData.zip;
                document.getElementById('city').value = profileData.city;
                document.getElementById('profile-picture-preview').src = profileData.profilePicture;

             
                document.getElementById('user-avatar').src = profileData.profilePicture;
                document.getElementById('user-name').textContent = `${profileData.firstName} ${profileData.lastName}`;
            }

            const alertsData = JSON.parse(localStorage.getItem('alertsData'));
            if (alertsData) {
                document.getElementById('email-notifications').checked = alertsData.emailNotifications;
                document.getElementById('sms-alerts').checked = alertsData.smsAlerts;
                document.getElementById('app-notifications').checked = alertsData.appNotifications;
                document.getElementById('security-alerts').checked = alertsData.securityAlerts;
                document.getElementById('updates-announcements').checked = alertsData.updatesAnnouncements;
            }
        });

        document.getElementById('profile-link').addEventListener('click', function() {
            const profileData = JSON.parse(localStorage.getItem('profileData'));
            if (profileData) {
                localStorage.setItem('profilePageData', JSON.stringify(profileData));
                
            }
        });
    </script>
</body>
</html>